function l(d){f=d.pageX-c.offsetLeft-m||f;e=d.pageY-c.offsetTop-m||e;d=s(e,f),t=f*f+e*e;t>v&&(f=g*w(d),e=g*w(d-n/2),d=s(e,f),t=f*f+e*e);z.textContent=b.style.background=A((d+n)/B,C(t)/g,k.value/D)[3];a.putImageData(E,0,0);a.fillStyle="#000";a.fillRect(~~f+m,~~e+m,6,6)}function A(d,e,i){var d=6*d,f=~~d,g=d-f,d=i*(1-e),h=i*(1-g*e),e=i*(1-(1-g)*e),j=f%6,f=[i,h,d,d,e,i][j]*o,g=[e,i,i,h,d,d][j]*o,i=[d,d,e,i,i,h][j]*o;return[f,g,i,"rgb("+~~f+","+~~g+","+~~i+")"]}p=c.width=c.height=400,
g=190,m=g+10,v=g*g,o=255,D=100,e=80,f=-e,q=16040,h=Math,n=h.PI,B=2*n,w=h.cos,C=h.sqrt,s=h.atan2,r=document,E=a.createImageData(p,p),h=E.data,z=b.appendChild(r.createElement("p")),k=b.appendChild(r.createElement("input"));b.style.textAlign="center";z.style.font="32px courier";k.type="range";k.min=0;k.value=k.max=D;for(y=0;y<p;y++)for(x=0;x<p;x++){j=x-g,u=y-g,F=j*j+u*u,j=A((s(u,j)+n)/B,C(F)/g,1);h[q++]=j[0];h[q++]=j[1];h[q++]=j[2];h[q++]=F>v?0:o}c.onmousedown=r.onmouseup=function(d){r.onmousemove=
/p/.test(d.type)?0:(l(d),l)};k.onchange=l;l(0)