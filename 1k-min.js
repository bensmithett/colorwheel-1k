function l(d){f=d.pageX-c.offsetLeft-m||f;e=d.pageY-c.offsetTop-m||e;d=t(e,f),u=f*f+e*e;u>w&&(f=g*z(d),e=g*z(d-n/2),d=t(e,f),u=f*f+e*e);A.textContent=b.style.background=B((d+n)/C,D(u)/g,k.value/F)[3];a.putImageData(E,0,0);a.font="14px arial";a.fillText("\u2665",f+m,e+m)}function B(d,e,h){d=6*d,f=~~d,g=d-f,d=h*(1-e),i=h*(1-g*e),e=h*(1-(1-g)*e),j=f%6,f=[h,i,d,d,e,h][j]*o,g=[e,h,h,i,d,d][j]*o,h=[d,d,e,h,h,i][j]*o;return[f,g,h,"rgb("+~~f+","+~~g+","+~~h+")"]}p=c.width=c.height=
400,q=document,A=b.appendChild(q.createElement("p")),k=b.appendChild(q.createElement("input")),E=a.createImageData(p,p),r=E.data,F=k.value=k.max=100,g=190,m=200,w=g*g,o=255,e=80,f=-e,s=16040,i=Math,n=i.PI,C=2*n,z=i.cos,D=i.sqrt,t=i.atan2;b.style.textAlign="center";A.style.font="32px courier";k.type="range";for(y=k.min=0;y<p;y++)for(x=0;x<p;x++){j=x-g,v=y-g,i=j*j+v*v,j=B((t(v,j)+n)/C,D(i)/g,1);r[s++]=j[0];r[s++]=j[1];r[s++]=j[2];r[s++]=i>w?0:o}c.onmousedown=q.onmouseup=function(d){q.onmousemove=
/p/.test(d.type)?0:(l(d),l)};k.onchange=l;l(0)