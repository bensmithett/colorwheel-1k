function n(d){e=d.pageX-c.offsetLeft-o||e;f=d.pageY-c.offsetTop-o||f;var d=t(f,e),j=e*e+f*f;j>=w&&(e=g*z(d),f=g*z(d-p/2),d=t(f,e),j=e*e+f*f);A.textContent=b.style.background=B((d+p)/u,C(j)/g,l.value/D)[3];a.putImageData(E,0,0);a.beginPath();a.strokeStyle="#000";a.arc(~~e+o,~~f+o,4,0,u);a.stroke()}function B(d,j,i){var d=6*d,e=~~d,f=d-e,d=i*(1-j),g=i*(1-f*j),j=i*(1-(1-f)*j),h=e%6,e=[i,g,d,d,j,i][h]*q,f=[j,i,i,g,d,d][h]*q,i=[d,d,j,i,i,g][h]*q;return[e,f,i,"rgb("+~~e+","+~~f+","+~~i+")"]}
var m=c.width=c.height=400,g=190,o=g+10,w=g*g,q=255,D=100,e=-80,f=80,r=40*m+40,h=Math,p=h.PI,u=2*p,z=h.cos,C=h.sqrt,t=h.atan2,s=document,E=a.createImageData(m,m),h=E.data,A=b.appendChild(s.createElement("p")),l=b.appendChild(s.createElement("input"));b.style.cssText="margin:0;text-align:center";A.style.cssText="font:32px monospace;background:#fff;";l.type="range";l.min=0;l.value=l.max=D;for(y=0;y<m;y++)for(x=0;x<m;x++){var k=x-g,v=y-g,F=k*k+v*v,k=B((t(v,k)+p)/u,C(F)/g,1);h[r++]=k[0];h[r++]=k[1];h[r++]=
k[2];h[r++]=F<=w?q:0}c.onmousedown=s.onmouseup=function(d){s.onmousemove=/p/.test(d.type)?0:(n(d),n)};l.onchange=n;n(0)