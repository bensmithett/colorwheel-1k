function m(d){f=d.pageX-c.offsetLeft-n||f;e=d.pageY-c.offsetTop-n||e;var d=s(e,f),t=f*f+e*e;t>=w&&(f=g*z(d),e=g*z(d-o/2),d=s(e,f),t=f*f+e*e);A.textContent=b.style.background=B((d+o)/u,C(t)/g,k.value/D)[3];a.putImageData(E,0,0);a.beginPath();a.strokeStyle="#000";a.arc(~~f+n,~~e+n,4,0,u);a.stroke()}function B(d,e,i){var d=6*d,f=~~d,g=d-f,d=i*(1-e),h=i*(1-g*e),e=i*(1-(1-g)*e),j=f%6,f=[i,h,d,d,e,i][j]*p,g=[e,i,i,h,d,d][j]*p,i=[d,d,e,i,i,h][j]*p;return[f,g,i,"rgb("+~~f+","+~~g+","+~~i+")"]}
var l=c.width=c.height=400,g=(l-20)/2,n=g+10,w=g*g,p=255,D=100,e=80,f=-e,q=40*l+40,h=Math,o=h.PI,u=2*o,z=h.cos,C=h.sqrt,s=h.atan2,r=document,E=a.createImageData(l,l),h=E.data,A=b.appendChild(r.createElement("p")),k=b.appendChild(r.createElement("input"));b.style.cssText="margin:0;text-align:center";k.type="range";k.min=0;k.value=k.max=D;for(y=0;y<l;y++)for(x=0;x<l;x++){var j=x-g,v=y-g,F=j*j+v*v,j=B((s(v,j)+o)/u,C(F)/g,1);h[q++]=j[0];h[q++]=j[1];
h[q++]=j[2];h[q++]=F<=w?p:0}c.onmousedown=r.onmouseup=function(d){r.onmousemove=/p/.test(d.type)?0:(m(d),m)};k.onchange=m;m(0)