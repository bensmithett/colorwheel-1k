function m(d){f=d.pageX-c.offsetLeft-n||f;e=d.pageY-c.offsetTop-n||e;var d=s(e,f),t=f*f+e*e;t>v&&(f=g*w(d),e=g*w(d-o/2),d=s(e,f),t=f*f+e*e);z.textContent=b.style.background=A((d+o)/B,C(t)/g,k.value/D)[3];a.putImageData(E,0,0);a.fillStyle="#000";a.fillRect(~~f+n,~~e+n,6,6)}function A(d,e,i){var d=6*d,f=~~d,g=d-f,d=i*(1-e),h=i*(1-g*e),e=i*(1-(1-g)*e),j=f%6,f=[i,h,d,d,e,i][j]*p,g=[e,i,i,h,d,d][j]*p,i=[d,d,e,i,i,h][j]*p;return[f,g,i,"rgb("+~~f+","+~~g+","+~~i+")"]}var l=c.width=c.height=400,
g=(l-20)/2,n=g+10,v=g*g,p=255,D=100,e=80,f=-e,q=40*l+40,h=Math,o=h.PI,B=2*o,w=h.cos,C=h.sqrt,s=h.atan2,r=document,E=a.createImageData(l,l),h=E.data,z=b.appendChild(r.createElement("p")),k=b.appendChild(r.createElement("input"));b.style.cssText="margin:0;text-align:center";z.style.cssText="font:32px monospace;background:#fff;";k.type="range";k.min=0;k.value=k.max=D;for(y=0;y<l;y++)for(x=0;x<l;x++){var j=x-g,u=y-g,F=j*j+u*u,j=A((s(u,j)+o)/B,C(F)/g,1);h[q++]=j[0];h[q++]=j[1];h[q++]=j[2];h[q++]=F<=v?
p:0}c.onmousedown=r.onmouseup=function(d){r.onmousemove=/p/.test(d.type)?0:(m(d),m)};k.onchange=m;m(0)