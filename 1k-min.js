function n(d){f=d.pageX-c.offsetLeft-e-k||f;g=d.pageY-c.offsetTop-e-k||g;var d=t(g,f),u=f*f+g*g;u>=w&&(f=e*z(d),g=e*z(d-o/2),d=t(g,f),u=f*f+g*g);A.textContent=b.style.background=B((d+o)/v,C(u)/e,l.value/D)[3];a.putImageData(E,0,0);a.beginPath();a.strokeStyle="#000";a.arc(~~f+e+k,~~g+e+k,4,0,v);a.stroke()}function B(d,e,i){var d=6*d,f=~~d,g=d-f,d=i*(1-e),h=i*(1-g*e),e=i*(1-(1-g)*e),j=f%6,f=[i,h,d,d,e,i][j]*p,g=[e,i,i,h,d,d][j]*p,i=[d,d,e,i,i,h][j]*p;return[f,g,i,"rgb("+~~f+","+~~g+","+
~~i+")"]}var m=c.width=c.height=400,k=10,e=(m-20)/2,w=e*e,p=255,D=100,f=-80,g=80,q=4*k*m+4*k,h=Math,o=h.PI,v=2*o,z=h.cos,C=h.sqrt,t=h.atan2,r=document,E=a.createImageData(m,m),h=E.data,A=b.appendChild(r.createElement("p")),l=b.appendChild(r.createElement("input"));b.style.cssText="margin:0;text-align:center";A.style.cssText="font:32px monospace;background:#fff;";l.type="range";l.min=0;l.value=l.max=D;for(y=0;y<m;y++)for(x=0;x<m;x++){var j=x-e,s=y-e,F=j*j+s*s,j=B((t(s,j)+o)/v,C(F)/e,1);h[q++]=j[0];
h[q++]=j[1];h[q++]=j[2];h[q++]=F<=w?p:0}j=s=-80;c.onmousedown=r.onmouseup=function(d){r.onmousemove=/p/.test(d.type)?0:(n(d),n)};l.onchange=n;n(0)